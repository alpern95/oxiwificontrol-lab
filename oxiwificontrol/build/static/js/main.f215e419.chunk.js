(this.webpackJsonpoxiwificontrol=this.webpackJsonpoxiwificontrol||[]).push([[0],{321:function(e,t,r){e.exports=r(465)},326:function(e,t,r){},465:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(14),l=r.n(o),c=(r(326),r(557)),s=r(550),u=r(549),i=r(280),m=r(87),E={login:function(e){var t=e.username,r=e.password,a=new Request("https://192.168.112.10:4431/api/v1/user/login",{method:"POST",body:JSON.stringify({username:t,password:r}),headers:new Headers({"Content-Type":"application/json"})});return fetch(a).then((function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()})).then((function(e){var r=e.token,a=e.role;return localStorage.setItem("token",r),localStorage.setItem("username",t),localStorage.setItem("permissions",a),Promise.resolve()}))},logout:function(){return localStorage.removeItem("username"),localStorage.removeItem("token"),localStorage.removeItem("permissions"),Promise.resolve()},checkError:function(){return Promise.resolve()},checkAuth:function(){return localStorage.getItem("token")?Promise.resolve():Promise.reject()},getPermissions:function(){var e=localStorage.getItem("permissions");return e?Promise.resolve(e):Promise.reject()}},d=r(528),b=r(529),g=r(530),p=r(256),f=r(295),h=Object(f.a)({root:{display:"inline-block",marginTop:"1em",zIndex:2},content:{padding:0,"&:last-child":{padding:0}},img:{width:"initial",minWidth:"initial",maxWidth:"42em",maxHeight:"15em"}}),w=function(){var e=h();return Object(p.a)(),a.createElement("div",null,a.createElement(d.a,null,a.createElement(b.a,{title:"Bienvenue sur OxiWifiControl"}),a.createElement(g.a,{className:e.content},a.createElement("br",null),"- Application de gestion des bornes wifi",a.createElement("br",null),a.createElement("br",null),"  Vous pourrez:",a.createElement("br",null),"  - Allumer une borne wifi",a.createElement("br",null),"  - Etteindre une borne wifi",a.createElement("br",null),"  - Connaitre l'\xe9tat d'une borne wifi")))},v=r(551),j=r(552),O=r(560),k=r(542),S=r(556),I=r(553),P=r(564),B=r(292),x=r(546),C=r(567),y=function(e){return a.createElement(v.a,e,a.createElement(j.a,{rowClick:"edit"},a.createElement(O.a,{source:"nom",sortable:!1}),a.createElement(O.a,{source:"description",sortable:!1}),a.createElement(O.a,{source:"groupe",sortable:!1}),a.createElement(O.a,{source:"etat",sortable:!1}),a.createElement(O.a,{source:"lastrefresh",sortable:!1}),a.createElement(k.a,null)))},A=function(e){return a.createElement(S.a,e,a.createElement(I.a,null,a.createElement(P.a,{label:"base"},a.createElement(B.a,{source:"nom"}),a.createElement(B.a,{source:"description"})),a.createElement(P.a,{label:"d\xe9tail"},a.createElement(B.a,{source:"device"}),a.createElement(B.a,{source:"adresse"}),a.createElement(B.a,{source:"groupe"}),a.createElement(B.a,{source:"username"}),a.createElement(x.a,{source:"password"}),a.createElement(x.a,{source:"enablepassword"}),a.createElement(B.a,{source:"interface"}),a.createElement(B.a,{source:"etat"}),a.createElement(B.a,{source:"lastrefresh"}))))},W=function(e){return a.createElement(C.a,e,a.createElement(I.a,null,a.createElement(P.a,{label:"base"},a.createElement(B.a,{source:"nom"}),a.createElement(B.a,{source:"description"})),a.createElement(P.a,{label:"details"},a.createElement(B.a,{source:"device"}),a.createElement(B.a,{source:"adresse"}),a.createElement(B.a,{source:"groupe"}),a.createElement(B.a,{source:"username"}),a.createElement(x.a,{source:"password"}),a.createElement(x.a,{source:"enablepassword"}),a.createElement(B.a,{source:"interface"}),a.createElement(B.a,{source:"etat"}),a.createElement(B.a,{source:"lastrefresh"}))))},F=r(568),J=function(e){return a.createElement(v.a,e,a.createElement(j.a,null,a.createElement(O.a,{source:"username",sortable:!1}),a.createElement(O.a,{source:"email",sortable:!1}),a.createElement(O.a,{source:"role",sortable:!1})))},T=function(e){return a.createElement(C.a,e,a.createElement(F.a,null,a.createElement(B.a,{source:"username"}),a.createElement(x.a,{source:"password"}),a.createElement(B.a,{source:"email"}),a.createElement(B.a,{source:"role"})))},V=r(95),z=r(469),H=r(134),R=r(534),N=r(241),q=r(28),L=r(277),M=r.n(L),$=function(e){var t=e.selectedIds,r=Object(z.a)(),n=Object(H.a)(),o=Object(R.a)(),l=Object(N.a)("groupe/stop",t,{views:0},{onSuccess:function(){r(),n("Borne updated"),o("groupes")},onFailure:function(e){return n("Error: groupes not updated","warning")}}),c=Object(V.a)(l,2),s=c[0],u=c[1].loading;return a.createElement(q.a,{label:"StopBorne",disabled:u,onClick:s},a.createElement(M.a,null))},D=r(278),G=r.n(D),K=function(e){var t=e.selectedIds,r=Object(z.a)(),n=Object(H.a)(),o=Object(R.a)(),l=Object(N.a)("groupe/start",t,{views:0},{onSuccess:function(){r(),n("Borne updated"),o("groupes")},onFailure:function(e){return n("Error: groupes not updated","warning")}}),c=Object(V.a)(l,2),s=c[0],u=c[1].loading;return a.createElement(q.a,{label:"StartBorne",disabled:u,onClick:s},a.createElement(G.a,null))},Q=r(148),U=r.n(Q),X=function(e){var t=e.selectedIds,r=Object(z.a)(),n=Object(H.a)(),o=Object(R.a)(),l=Object(N.a)("groupe/refresh",t,{views:0},{onSuccess:function(){r(),n("Borne updated"),o("groupes")},onFailure:function(e){return n("Error: groupes not updated","warning")}}),c=Object(V.a)(l,2),s=c[0],u=c[1].loading;return a.createElement(q.a,{label:"RefreshBorne",disabled:u,onClick:s},a.createElement(U.a,null))},Y=function(e){return a.createElement(a.Fragment,null,a.createElement($,Object.assign({label:"Stop Views"},e)),a.createElement(K,Object.assign({label:"Start Views"},e)),a.createElement(X,Object.assign({label:"Refresh Views"},e)))},Z=function(e){var t=Object.assign({},e);return a.createElement(v.a,Object.assign({},t,{title:"Liste des bornes de votre groupe",bulkActionButtons:a.createElement(Y,null)}),a.createElement(j.a,null,a.createElement(O.a,{source:"nom",sortable:!1}),a.createElement(O.a,{source:"description",sortable:!1}),a.createElement(O.a,{source:"groupe",sortable:!1}),a.createElement(O.a,{source:"etat",sortable:!1}),a.createElement(O.a,{source:"lastrefresh",sortable:!1})))},_=function(){return a.createElement(c.a,{backgroundImage:"/background.jpg"})},ee=Object(i.a)("https://192.168.112.10:4431/api/v1",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers||(t.headers=new Headers({Accept:"application/json"}));var r=localStorage.getItem("token");return t.headers.set("Authorization","Bearer ".concat(r)),m.a.fetchJson(e,t)})),te=function(){return a.createElement(s.a,{loginPage:_,dashboard:w,authProvider:E,dataProvider:ee},(function(e){return["admin"===e?a.createElement(u.a,{name:"borne",list:y,edit:A,create:W}):null,"admin"===e?a.createElement(u.a,{name:"users",list:J,create:T}):null,"admin"!==e?a.createElement(u.a,{name:"groupe",list:Z}):null]}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[321,1,2]]]);
//# sourceMappingURL=main.f215e419.chunk.js.map